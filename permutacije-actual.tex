\documentclass[12pt,a4paper,reqno]{amsart}
% ukazi za delo s slovenscino -- izberi kodiranje, ki ti ustreza
\usepackage[slovene]{babel}
%\usepackage[cp1250]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{url}
%\usepackage[normalem]{ulem}
\usepackage[dvipsnames,usenames]{color}

% ne spreminjaj podatkov, ki vplivajo na obliko strani
\textwidth 15cm
\textheight 24cm
\oddsidemargin.5cm
\evensidemargin.5cm
\topmargin-5mm
\addtolength{\footskip}{10pt}
\pagestyle{plain}
\overfullrule=15pt % oznaci predlogo vrstico


% ukazi za matematicna okolja
\theoremstyle{definition} % tekst napisan pokoncno
\newtheorem{definicija}{Definicija}[section]
\newtheorem{primer}[definicija]{Primer}
\newtheorem{opomba}[definicija]{Opomba}

\theoremstyle{plain} % tekst napisan posevno
\newtheorem{lema}[definicija]{Lema}
\newtheorem{izrek}[definicija]{Izrek}
\newtheorem{trditev}[definicija]{Trditev}
\newtheorem{posledica}[definicija]{Posledica}


% za stevilske mnozice uporabi naslednje simbole
\newcommand{\R}{\mathbb R}
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\C}{\mathbb C}
\newcommand{\Q}{\mathbb Q}


% naslednje ukaze ustrezno popravi
\newcommand{\program}{Matematika} % ime studijskega programa: Matematika/Finan"cna matematika
\newcommand{\imeavtorja}{Katarina Černe} % ime avtorja
\newcommand{\imementorja}{izred.~prof.~dr.~Barbara Drinovec Drnovšek} % akademski naziv in ime mentorja
\newcommand{\naslovdela}{Permutacije in konvergenca številskih vrst}
\newcommand{\letnica}{2016} %letnica diplome

\begin{document}
% od tod do povzetka ne spreminjaj nicesar
\thispagestyle{empty}
\noindent{\large
UNIVERZA V LJUBLJANI\\[1mm]
FAKULTETA ZA MATEMATIKO IN FIZIKO\\[5mm]
\program\ -- 1.~stopnja}
\vfill

\begin{center}{\large
\imeavtorja\\[2mm]
{\bf \naslovdela}\\[10mm]
Delo diplomskega seminarja\\[1cm]
Mentor: \imementorja}
\end{center}
\vfill

\noindent{\large
Ljubljana, \letnica}
\pagebreak

\thispagestyle{empty}
\tableofcontents
\pagebreak

\section{Uvod}

Številska vrsta $\sum^{\infty}_{n=1}a_n$ je neskončna vsota členov zaporedja realnih števil \\$\{a_{n}\}_{n\in \N}$. Zaporedje delnih vsot številske vrste je definirano kot zaporedje $\{S_{n}\}_{n\in \N}$ s členi $S_i = a_1 + a_2 + \ldots + a_i$. Pravimo, da številska vrsta $\sum^{\infty}_{n=1}a_n$ \emph{konvergira}, če konvergira zaporedje njenih delnih vsot $\{S_n\}^{\infty}_{n=1}$. Vsota te vrste je enaka limiti zaporedja delnih vsot. Konvergentne vrste ločimo na \emph{absolutno konvergentne} in \emph{pogojno konvergentne}. Vrsta $\sum^{\infty}_{n=1}a_n$ konvergira absolutno, če konvergira vrsta $\sum^{\infty}_{n=1}|a_n|$, pogojno pa konvergira, če vrsta $\sum^{\infty}_{n=1}a_n$ konvergira, vrsta $\sum^{\infty}_{n=1}|a_n|$ pa divergira. V zvezi s konvergenco vrst je potrebno omeniti tudi dva pomembna izreka.

\begin{izrek}\label{izr:absolutno}
Naj bo $\sum^{\infty}_{n=1}a_n$ absolutno konvergenta. Potem za vsako permutacijo $\pi$ konvergira tudi $\sum^{\infty}_{n=1}a_{\pi (n)}$ in velja $\sum^{\infty}_{n=1}a_n = \sum^{\infty}_{n=1}a_{\pi (n)}$
\end{izrek}

\begin{izrek}\label{izr:riemann}
Naj bo $\sum^{\infty}_{n=1}a_n$ pogojno konvergentna vrsta. Potem za vsako število $A\in \R \cup \{ \pm \infty \}$ obstaja taka permutacija $\pi$, da je $\sum^{\infty}_{n=1}a_{\pi (n)} = A$.
\end{izrek}

Vidimo torej, da lahko v absolutno konvergentnih vrstah poljubno premešamo člene, ne da bi kakorkoli vplivali na vsoto ali konvergenco vrste, medtem ko za pogojno konvergentne vrste obstajajo permutacije, ki spremenijo vrstni red členov tako, da lahko dobljena vrsta konvergira h kateremukoli realnemu številu, ali pa celo divergira. Pri tem se pojavi vprašanje, kakšne so te permutacije. Se jih da kako klasificirati? Imajo kakšne skupne lastnosti? V nadaljevanju se bomo ukvarjali predvsem s permutacijami na členih pogojno konvergentnih vrst, ki ohranjajo konvergenco. Primer takih permutacij so t.~i.\ $\lambda$-permutacije.

\subsection{Permutacije z lastnostjo $\lambda$}

\begin{definicija}
Permutacijo naravnih števil $\sigma$ imenujemo \emph{$\lambda$-permutacija} oz. \emph{permutacija z lastnostjo $\lambda$}, če velja:
\begin{itemize}
\item[(1)] Če vrsta $\displaystyle\sum^{\infty}_{n=1}a_n$ konvergira, potem konvergira tudi $\displaystyle\sum^{\infty}_{n=1}a_{\sigma (n)}.$
\item[(2)] Obstaja vsaj ena divergentna vrsta $\displaystyle\sum^{\infty}_{n=1}b_n$, da vrsta $\displaystyle\sum^{\infty}_{n=1}b_{\sigma (n)}$ konvergira.
\end{itemize}
\end{definicija}

\begin{opomba}
V nadaljevanju bomo divergentne vrste, za katere obstaja kakršnakoli permutacija, ki vrstni red elementov spremeni tako, da novonastala vrsta konvergira, imenovali kar \emph{pogojno divergentne vrste}.
\end{opomba}

Naravno se ob definiciji $\lambda$-permutacij pojavi kar nekaj vprašanj. Najprej se lahko vprašamo, kako težko je skonstruirati tako permutacijo, oziroma ali kakšna taka permutacija sploh obstaja. Nadalje, koliko takih permutacij obstaja. Kaj še lahko povemo o permutacijah z lastnostjo $\lambda$ in množici vseh $\lambda$-permutacij? Eno izmed pomembnejših vprašanj, ki se porajajo ob raziskovanju lastnosti množice $\lambda$-permutacij, je vprašanje njene omejenosti. Če je ta množica navzgor omejena, namreč obstaja optimalna $\lambda$-permutacija, ki ustvari največ konvergentnih vrst. Če je to res in če je ta optimalna perutacija različna od identitete, bi bilo bolje, da bi, kar se tiče seštevanja vrst, namesto običajnega uporabljali drugačno zaporedje naravnih števil, torej zaporedje, ki ga narekuje dobljena optimalna permutacija? Nazadnje pa se lahko vprašamo še, ali nam $\lambda$ permutacije lahko pomagajo pri vsaki pogojno divergentni vrsti oziroma ali za vsako pogojno divergentno vrsto $\sum^{\infty}_{n=1}a_n$ obstaja $\lambda$-permutacija $\sigma$, da $\sum^{\infty}_{n=1}a_{\sigma (n)}$ konvergira. To so vprašanja, na katera bo odgovorjeno v tej diplomski nalogi.

\section{Primer konstrukcije $\lambda$-permutacije} \label{sec:konstrukcija}

Oglejmo si primer konstrukcije permutacije z lastnostjo $\lambda$. S tem bomo tudi pokazali, da množica $\lambda$-permutacij ni prazna.
Naravna števila najprej razvrstimo v bloke naraščajoče velikosti na naslednji način:

\begin{equation}
1 \quad 2\: 3\: 4 \quad 5\: 6\: 7\: 8\: 9 \quad 10\: 11\: 12\: 13\: 14\: 15\: 16 \quad 17\: 18\: 19\: 20\: 21\: 22\: 23\: 24\: 25\: \ldots 
\label{eq:1}
\end{equation}

Bloki imajo liho število elementov. Moč vsakega bloka je za $2$ večja od moči predhodnega bloka. Sedaj pa vsak blok preoblikujemo tako, da na začetek postavimo število na sredini bloka. Na drugem mestu bo število, ki je za $1$ večje od srednjega števila, sledi število, ki je od srednjega za $1$ manjše, potlej število za $2$ večje od srednjega, in tako dalje dokler ne preuredimo vseh števil v bloku. Dobimo naslednje zaporedje:

\begin{equation}  
1 \quad 3\: 4\: 2 \quad 7\: 8\: 6\: 9\: 5 \quad 13\: 14\: 12\: 15\: 11\: 16\: 10 \quad 21\: 22\: 20\: 23\: 19\: 24\: 18\: 25\: 17 \ldots 
\label{eq:2}
\end{equation}

Permutacijo, ki na zaporedje naravnih števil deluje na zgoraj opisani način, označimo s $\sigma$. 

Permutacijo $\sigma$ uporabimo na členih številske vrste $\sum^{\infty}_{n=1}a_n$. Njene delne vsote bomo označili s $S_n$. Opazimo lahko, da je vsaka delna vsota $\tilde{S_n}$ permutirane vrste $\sum^{\infty}_{n=1}a_{\sigma(n)}$ linearna kombinacija največ treh delnih vsot prvotne vrste. Natančneje, velja, da je 
\begin{equation}
\tilde{S_N}=S_{q^2}+(S_B-S_A).\label{eq:3} 
\end{equation}
Tu je $q^2$ največji popolni kvadrat, manjši od $N$, in $A \geq q^2$, $B \geq q^2$ ter $A \leq B$. Vsak blok v zaporedju (\ref{eq:1}) se namreč konča s popolnim kvadratom, tako da so indeksi členov v delni vsoti $S_{q^2}=a_1+a_2+\ldots+a_{q^2}$ vsa števila iz blokov od prvega do vključno tistega, ki se konča s $q^2$. Ker se permutiranje členov izvaja samo znotraj blokov, bo imela delna vsota $\tilde{S_{q^2}}$ enake člene kot $S_{q^2}$, le v drugačnem vrstnem redu. Delna vsota $S_4$ na primer izgleda tako: $S_4 = a_1+a_2+a_3+a_4$, medtem ko je $\tilde{S}_4$ taka: $\tilde{S}_4=a_{\sigma(1)}+a_{\sigma(2)}+a_{\sigma(3)}+a_{\sigma(4)}=a_1+a_3+a_4+a_2$. Vidimo, da sta obe delni vsoti enaki, saj vsebujeta vse člene z indeksi iz prvih dveh blokov. Za delne vsote  permutirane vrste torej velja: $\tilde{S_n}=\tilde{S_{q^2}}+Q=S_{q^2}+Q$, kjer je $q^2$ največji popolni kvadrat, manjši od $n$, $Q$ pa vsebuje člene z indeksi, večjimi od $q^2$. Po kontrukciji permutacije $\sigma$ velja, da če $Q$ vsebuje člena $a_C$ in $a_B$, kjer je $C < B$, potem bo vseboval tudi vse člene $a_i$, kjer je $C<i<B$. Torej lahko zapišemo $Q=S_B-S_{C-1}$, od koder sledi enačba (\ref{eq:3}).

Po Cauchyjevem kriteriju za konvergenco zaporedij vrsta $\sum^{\infty}_{n=1}a_n$ konvergira natanko tedaj, ko za vsak $\epsilon >0$ obstaja $n_0 \in \N$, da za vsak par indeksov $m,n\in \N \textrm{, }m>n\geq n_0$ velja $|S_m-S_n|<\epsilon$. Ker je vsaka delna vsota vrste $\sum^{\infty}_{n=1}a_{\sigma(n)}$ končna linearna kombinacija delnih vsot vrste $\sum^{\infty}_{n=1}a_{n}$, bo Cauchyjev kriterij, če bo veljal za vrsto $\sum^{\infty}_{n=1}a_{n}$, veljal tudi za $\sum^{\infty}_{n=1}a_{\sigma(n)}$. S tem je zadoščeno prvi točki iz definicije $\lambda$-permutacije. %natančnejša razlaga?

Da pokažemo, da je $\sigma$ res $\lambda$-permutacija, moramo poiskati še pogojno divergentno vrsto, iz katere bo permutacija $\sigma$ ustvarila pogojno konvergentno vrsto. Primer take divergente vrste je:
$$1+\left (-\frac{1}{2}-\frac{1}{2}+\frac{1}{2}\right )+\left (\frac{1}{3}+\frac{1}{3}+\frac{1}{3}-\frac{1}{3}-\frac{1}{3} \right )+\left (-\frac{1}{4}-\frac{1}{4}-\frac{1}{4}-\frac{1}{4}+\frac{1}{4}+\frac{1}{4}+\frac{1}{4}\right )+$$ $$+\left (\frac{1}{5}+\frac{1}{5}+\frac{1}{5}+\frac{1}{5}+\frac{1}{5}-\frac{1}{5}-\frac{1}{5}-\frac{1}{5}-\frac{1}{5} \right )+\dots $$
%kako naj razložim, da divergira?

Ko na zgornji vrsti uporabimo permutacijo $\sigma$, dobimo:
$$1-\frac{1}{2}+\frac{1}{2}-\frac{1}{2}+\frac{1}{3}-\frac{1}{3}+\frac{1}{3}-\frac{1}{3}+\frac{1}{3}-\frac{1}{4}+\frac{1}{4}-\frac{1}{4}+\frac{1}{4}-\frac{1}{4}+\frac{1}{4}-\frac{1}{4}+\frac{1}{5}-\frac{1}{5} \pm \dots$$
Dobljena vrsta konvergira po Leibnizevem testu za alternirajoče vrste, ki pravi, da alternirajoča vrsta konvergira, kadar ima zaporedje absolutnih vrednosti njenih členov limito 0. %bolj natančna razlaga?

Našli smo pogojno divergentno vrsto, ki jo $\sigma$ spremeni v konvergentno. Permutacija $\sigma$ torej zadošča obema točkama v definiciji $\lambda$-permutacije. S tem smo dokazali, da obstaja vsaj ena $\lambda$-permutacija. Je to edina $\lambda$-permutacija ali obstaja še kakšna? Da odgovorimo na to vprašanje, si moramo najprej ogledati nekaj lastnosti $\lambda$-permutacij.

\section{Lastnosti $\lambda$-permutacij}
%tu je treba najbrž povedati, kaj se bo opazovalo v tem poglavju in zakaj je dobro gledati te lastnosti
\subsection{Ohranjanje konvergence in vsote}

\begin{definicija}
Pravimo, da permutacija \emph{ohranja konvergenco}, kadar iz konvergence vrste $\sum^{\infty}_{n=1}a_n$ sledi konvergenca vrste $\sum^{\infty}_{n=1}a_{\sigma (n)}$, in \emph{ohranja vsoto}, kadar velja, da je $\sum^{\infty}_{n=1}a_n=\sum^{\infty}_{n=1}a_{\sigma (n)}$.
\end{definicija}

Za lažje obravnavanje lastnosti $\lambda$-permutacij vpeljimo notacijo %ali mora biti to definicija??

$$[c,d]_{\Z}=\{x \in \Z^+ ; c \leq x \leq d \},$$

kjer sta $c$ in $d$ naravni števili, za kateri velja $c\leq d$. Z notacijo $[2,5]$ na primer označimo množico $\{2,3,4,5\}$.

Naj bo sedaj $\sigma$ neka permutacija naravnih števil in $n$ naravno število. Zapišemo lahko:

\begin{equation} \label{eq:4}
\{ \sigma (1), \sigma (2), \ldots \sigma (n) \} = [c^n_1, d^n_1]_{\Z} \cup [c^n_2, d^n_2]_{\Z} \cup \cdots \cup [c^n_{b_n}, d^n_{b_n}]_{\Z},
\end{equation} 

pri čemer je $c^n_i \leq d^n_i$ in $c^n_{i+1} \geq d^n_i +2$. Z $b_n$ smo označili število blokov oblike $[c^n_i, d^n_i]_{\Z}$, ki sestavljajo zgornjo unijo. Za permutacijo $\sigma$ lahko definiramo zaporedje $\{b_n\}^{\infty}_{n=1}$, ki ga imenujemo \emph{zaporedje števil blokov}. %posebej definicija zaporedja števil blokov?
V nadaljevanju bomo rabili še notacijo $M_n=d^n_{b_n}+1=max(\{ \sigma (1), \sigma (2), \ldots \sigma (n) \})+1$, kjer je $d^n_{b_n}$ število, s katerim se konča zadnji blok v notaciji \ref{eq:4}.

\begin{primer}
Vzemimo permutacijo $\sigma$, ki smo jo skonstruirali v poglavju \ref{sec:konstrukcija}, torej $$\sigma = \bigg(\begin{matrix}
    1 & 2 & 3 & 4 & 5 & 6 & \cdots   \\   1 & 3 & 4 & 2 & 7 & 8 & \cdots
  \end{matrix}\bigg).$$ Potem lahko zapišemo $\{\sigma(1), \sigma(2), \ldots, \sigma(8) \} = \{ 1,3,4,2,7,8\} = [1,4]_{\Z} \cup [7,8]_{\Z}$. V tem primeru je število blokov $b_8=2$, saj lahko $\{\sigma(1), \sigma(2), \ldots, \sigma(8) \}$ zapišemo kot unijo najmanj dveh blokov oblike  $[c^n_i, d^n_i]_{\Z}$.
Oglejmo si še zaporedje števil blokov za permutacijo $\sigma$. Očitno je $b_1=1$. Ker je $\{\sigma(1), \sigma(2) \} = \{ 1,3\} = [1,1]_{\Z} \cup [3,3]_{\Z}$, je $b_2=2$. Za $n=3$ velja $\{\sigma(1), \sigma(2), \sigma(3) \} = \{ 1,3,4\} = [1,1]_{\Z} \cup [3,4]_{\Z}$, torej je $b_3$=2, in tako dalje. Zaporedje števil blokov za permutacijo $\sigma$ je torej videti tako: $1\:2\:2\:1\:2\:2\:\ldots$.
\end{primer}

Zgoraj vpeljane notacije bodo zelo uporabne pri dokazu sledeče trditve, ki govori o povezavi med ohranjanjem konvergence in vsote.

\begin{trditev}
Naj bo $\sigma$ permutacija naravnih števil. Naslednje trditve so ekvivalentne:
\begin{enumerate}
\item permutacija $\sigma$ ohranja konvergenco \label{itm:1}
\item zaporedje števil blokov $\{b_n\}^{\infty}_{n=1}$ je omejeno \label{itm:2}
\item permutacija $\sigma$ ohranja vsoto \label{itm:3}
\end{enumerate}
\end{trditev}

\begin{proof}
Da iz (\ref{itm:3}) sledi (\ref{itm:1}) je očitno.

Dokažimo sedaj, da iz (\ref{itm:1}) sledi (\ref{itm:2}).
Naj bo $\sigma$ neka permutacija naravnih števil, ki ohranja konvergenco. Dokaza se lotimo s protislovjem. Predpostavimo, da je zaporedje števil blokov $\{b_n\}^{\infty}_{n=1}$ permutacije $\sigma$ neomejeno. Poiskali bomo tako konvergentno vrsto $\sum^{\infty}_{n=1}a_n$, da bo $\sum^{\infty}_{n=1}a_{\sigma (n)}$ divergentna, kar je v protislovju s predpostavko, da $\sigma$ ohranja konvergenco. 

Izberimo tak $n_1\in \N$, da je $c_1^{n_1}=1$, kjer je  $c_1^{n_1}$ število,s katerim se začne prvi blok v izrazu $\{ \sigma (1), \sigma (2), \ldots \sigma (n_1) \} = [c^{n_1}_1, d^{n_1}_1]_{\Z} \cup [c^{n_1}_2, d^{n_1}_2]_{\Z} \cup \cdots \cup [c^{n_1}_{b_n}, d^{n_1}_{b_n}]_{\Z}$. Drugače rečeno, naj bo $1\in \{ \sigma (1), \sigma (2), \ldots \sigma (n_1) \}$. Za tak $n_1$ za vsak $k\in \N$, za katerega velja $1 \leq k \leq M_{n_1}$ definiramo člen $a_k$ zaporedja $\{a_n\}^{M_{n_1}}_{n=1}$ na naslednji način:
$$a_k = 
\left\{ 
\begin{array}{ccc}
1&;&k=d_i^{n_1}\textrm{ za nek i, }1\leq i \leq b_{n_1}\\
-1&;&k=d_i^{n_1}+1\textrm{ za nek i, }1\leq i \leq b_{n_1}\\
0&;&\textrm{sicer}\\
\end{array}
\right. 
$$
Če imamo na primer permutacijo $\sigma$ kot v poglavju \ref{sec:konstrukcija} in $n_1=6$, potem je $\{ \sigma (1), \sigma (2), \ldots \sigma (6) \} = \{1, 3, 4, 2, 7, 8 \}= [1,4]_{\Z} \cup [7,8]_{\Z}$, za zaporedje $\{a_n\}^{9}_{n=1}$ pa velja, da je $a_4=1,\ a_5=-1,\ a_8 =1$ in $a_9=-1$, vsi ostali členi pa so enaki nič.

Oglejmo si nekaj značilnosti tega zaporedja. Najprej opazimo, da velja enakost $\sum_{k=1}^{n_1}a_{\sigma(k)}=b_{n_1}\geq 1$. Členi zaporedja $\{a_n\}^{M_{n_1}}_{n=1}$, ki so enaki $-1$ namreč zagotovo niso vključeni v to vsoto. Členi, enaki $a_k=-1$, so namreč tisti, za katere je $k=d_i^{n_1}+1$, $d_i^{n_1}+1$ pa za noben $i$ ni element množice $\{ \sigma (1), \sigma (2), \ldots \sigma (n_1) \}$, saj mora biti med $d_i^{n_1}$ in $c_{i+1}^{n_1}$ vsaj eno število, ki ni v množici $\{ \sigma (1), \sigma (2), \ldots \sigma (n_1) \}$. V nasprotnem primeru bi namesto $[c_i^{n_1},d_i^{n_1}] \cup [c_{i+1}^{n_1},d_{i+1}^{n_1}]$ v izrazu \ref{eq:4} pisali kar $[c_i^{n_1},d_{i+1}^{n_1}]$. 

Členi zaporedja $\{a_n\}^{M_{n_1}}_{n=1}$, ki so enaki $a_k=1$, so zagotovo vsi vključeni v zgornjo vsoto, saj zanje velja, da je $k=d_i^{n_1}$ za $1\leq i\leq b_{n_1}, d_i^{n_1}$ pa je za vsak tak $i$ element množice $\{ \sigma (1), \sigma (2), \ldots \sigma (n_1) \}$. Ta množica torej vsebuje ravno $b_{n_1}$ elementov oblike $d_i^{n_1}$, torej bo v vsoti $\sum_{k=1}^{n_1}a_{\sigma(k)}$ ravno $b_{n_1}$ členov, ki bodo enaki $1$, vsi ostali pa bodo ničelni. Od tod torej sledi $\sum_{k=1}^{n_1}a_{\sigma(k)}=b_{n_1}$, da je $b_{n_1}\geq 1$, pa je očitno.

Poleg tega vidimo še, da je $\sum_{k=1}^{M_{n_1}}a_k=0$. Členi zaporedja $\{a_n\}^{M_{n_1}}_{n=1}$, ki so enaki $1$ in $-1$ namreč vselej nastopajo v parih. Če je $a_i=1$, potem je $a_{i+1}=-1$. Zadnji člen vsote je $a_{M_{n_1}}=-1$, saj je $M_{n_1}=d_{b_{n_1}}^{n_1}+1$. V vsoti $\sum_{k=1}^{M_{n_1}}a_k=0$ je tako enako število členov, enakih $1$ in členov, enakih $-1$, ki se med sabo odštejejo, vsi ostali členi v vsoti pa so ničelni.

Na podoben način pokažemo tudi, da je $\sum_{k=1}^{n}a_k=0$ ali $1$, kjer za $n$ velja $1\geq n\geq M_{n_1}$. Za tako vsoto namreč obstajajo tri možnosti: ali je zadnji člen enak $0$ ali $1$ ali pa $-1$. Če je enak $0$ ali $-1$, bo število členov, enakih $1$, enako številu členov, enakih $-1$ in bo vsota enaka nič. Če pa je zadnji člen enak $1$, bo število členov, enakih $1$, za eno večje od števila členov, enakih $-1$, ($-1$ namreč vedno sledi takoj za $1$), torej bo vsota enaka $1$.

Do sedaj smo skonstruirali zaporedje $\{a_n\}^{M_{n_1}}_{n=1}$, radi pa bi imeli zaporedje $\{a_n\}^{\infty}_{n=1}$. Preostanek zaporedja konstruiramo rekurzivno: za vsak $j\in \N,\ j>1$ moramo izbrati $n_j$, da je $M_{n_j}>M_{n_{j-1}}$ in za vsak $k$, ki ustreza $M_{n_{j-1}}<k\leq M_{n_j}$ moramo definirati $a_k$ tako, da bo veljalo $\sum_{k=1}^{M_{n_j}}a_k=0$.

Recimo, da je $j>1$ in da smo v prejšnjem koraku že izbrali tak $n_{j-1}$ in take $a_k$ za $1\leq k\leq M_{n_j}$, da je veljalo $\sum_{k=1}^{M_{n_{j-1}}}a_k=0$. Ker smo predpisali, da je zaporedje števil blokov $\{b_n\}^{\infty}_{n=1}$ permutacije $\sigma$ neomejeno, lahko izberemo tak $n_j$, da je $d_1^{n_j}>M_{n_{j-1}}$ in $b_{n_j}\geq j^2$. %zakaj to naredimo
Definirajmo sedaj $a_k$ za $M_{n_{j-1}}<k\leq M_{n_j}$:

$$a_k = 
\left\{ 
\begin{array}{ccc}
\frac{1}{j}&;&k=d_i^{n_j}\textrm{ za nek i, }1\leq i \leq b_{n_1}\\
-\frac{1}{j}&;&k=d_i^{n_j}+1\textrm{ za nek i, }1\leq i \leq b_{n_1}\\
0&;&\textrm{sicer}\\
\end{array}
\right. 
$$

%Ker smo izbrali $n_j$ tako, da je $d_1^{n_j}>M_{n_{j-1}}$, velja $\{ \sigma (1), \sigma (2), \ldots \sigma (n_j) \} = [1, d_1^{n_j}]_{\Z} \cup [c_2^{n_j}, d_2^{n_j}]_{\Z} \cup \cdots \cup [c^{n_j}_{b_n}, d^{n_j}_{b_n}]_{\Z}$, kjer $ [1, d_1^{n_j}]_{\Z}$ vsebuje vsa števila med $1$ in $M_{n_j}$.
%ta del dokaza mi ni čisto jasen
Podobno kot pri $j=1$ tudi tu vidimo, da je $\sum_{k=1}^{n_j}a_{\sigma(k)}=\frac{b_{n_j}}{j}\geq j$, $\sum_{k=1}^{M_{n_1}}a_k=0$ in $\sum_{k=1}^{n}a_k=0$ ali $\frac{1}{j}$ za $M_{n_{j-1}}<n<M_{n_j}$.%zakaj rabim ta zadnji del

Če sedaj pošljemo $j$ proti neskončno, dobimo, $\sum_{k=1}^{\infty}a_k=0$. Ta vrsta torej konvergira. Po drugi strani pa $\sum_{k=1}^{M_{n_1}}a_{\sigma(k)}$ divergira, saj je $\sum_{k=1}^{n_j}a_{\sigma(k)}\geq j$ za vsak $j$. Torej $\sigma$ ne ohranja konvergence, kar je v nasprotju z začetno predpostavko. Sledi, da je zaporedje števil blokov $\{b_n\}^{\infty}_{n=1}$ omejeno.

Zadnja implikacija, ki jo moramo dokazati, je, da iz (\ref{itm:2}) sledi (\ref{itm:3}).
Imejmo permutacijo naravnih števil $\sigma$ in naj bo $\{b_n\}_{n=1}^{\infty}$ njeno zaporedje števil blokov, ki je omejeno. Naj bo $\{a_k\}_{k=1}^{\infty}$ tako zaporedje, da velja $\sum_{k=1}^{\infty}a_k=L\in \R$.Pokazati hočemo, da pri takih pogojih $\sigma$ ohranja vsoto, torej, da je $\sum_{k=1}^{\infty}a_k=\sum_{k=1}^{\infty}a_{\sigma(k)}=L$. 
Označimo s $S(n)=\sum_{k=1}^{n}a_k$ delne vsote vrste $\sum_{k=1}^{\infty}a_k$. Iz definicije vsote vrste sledi, da je $\lim_{n\to \infty}S(n)=L$. Oglejmo si sedaj delovanje permutacije $\sigma$. Naj bo $n$ tako velik, da bo v zapisu $\{ \sigma (1), \sigma (2), \ldots \sigma (n) \} = [c^n_1, d^n_1]_{\Z} \cup [c^n_2, d^n_2]_{\Z} \cup \cdots \cup [c^n_{b_n}, d^n_{b_n}]_{\Z}$ veljalo, da je $c^n_1$ enak $1$. Potem je 
\begin{equation} \label{eq:5}
\sum_{k=1}^{n}a_{\sigma(k)}=\sum_{k=1}^{d_1^n}a_k+\sum_{i=2}^{b_n}\sum_{k=c_i^n}^{d_i^n}a_k = S(d_1^n)+\sum_{i=2}^{b_n}(S(d_i^n)-S(c_i^n-1)).
\end{equation}
Ko pošljemo $n$ proti neskončno, gre $d_1^n$ proti neskončno. Torej gre $S(d_1^n)$ proti $L$. Oglejmo si še limito izraza $(S(d_i^n)-S(c_i^n-1))$. Ko gre $d_1^n$ proti neskončno, se blok  $[c^n_1, d^n_1]_{\Z}$ veča in zavzema vedno več števil, posledično pa se ostali bloki manjšajo. Torej sta števili $d_i^n$ in $c_i^n-1$, ko gre $n$ proti neskončno, vedno bližje eno drugemu. Zato gre $(S(d_i^n)-S(c_i^n-1))$ proti $0$. Dobimo torej $$\sum_{k=1}^{\infty}a_{\sigma(k)}=\lim_{n \to \infty}\sum_{k=1}^{\infty}a_{\sigma(k)}=L.$$
%natančnejša razlaga zadnjega dela
\end{proof}

Enakost \ref{eq:5}, ki smo jo uporabili v zgornjem dokazu, ima naslednjo posledico:
\begin{posledica}
Naj bo $\sigma$ permutacija, ki ohranja konvergenco in $\sum^{\infty}_{n=1}a_n$ konvergentna vrsta. Potem obstaja tako število $B\in \mathbb{N}$, da je vsaka delna vsota vrste $\sum^{\infty}_{n=1}a_{\sigma(n)}$ linearna kombinacija največ $B$ delnih vsot prvotne vrste.
\end{posledica}

\begin{proof}
Naj bo $\sigma$ permutacija, ki ohranja konvergenco. Potem je njeno zaporedje števil blokov $\{b_n\}_{n=1}^{\infty}$ omejeno, torej obstaja njegova limita $\lim_{n \to \infty}b_n = C\in \R$. Naj bo $\tilde{S}(n)=\sum_{k=1}^{n}a_{\sigma(k)}$ neka delna vsota vrste $\sum_{k=1}^{\infty}a_{\sigma(k)}$. Po enakosti \ref{eq:5} velja: $$\tilde{S}(n)=S(d_1^n)+\sum_{i=2}^{b_n}(S(d_i^n)-S(c_i^n-1))\leq S(d_1^n)+C(S(d_i^n)-S(c_i^n-1)).$$ Vidimo, da je $\tilde{S}(n)$ linearna kombinacija $B=2C+1$ delnih vsot $S(i)$ prvotne vrste.
\end{proof}

\subsection{Množici $\mathcal{O}$ in $\mathcal{N}$}

Naj bo $\mathcal{O}$ množica vseh permutacij naravnih števil, ki ohranjajo konvergenco, vendar niso $\lambda$-permutacije, z $\mathcal{N}$ pa označimo množico vseh $\lambda$-permutacij. Oglejmo si nekaj njunih lastnosti.

\begin{trditev}\label{trd:o in n}
Velja:
\begin{enumerate}
\item če je permutacija $\sigma$ element množice $\mathcal{N}$, potem $\sigma^{-1}$ ni element $\mathcal{O}$ \label{itm1:1}
\item če je permutacija $\sigma$ element množice $\mathcal{N}$  in $\beta$ element množice $\mathcal{O}$, potem je tudi $\sigma \circ \beta$ element $\mathcal{N}$ \label{itm1:2}
\item če je permutacija $\sigma$ element $\mathcal{N}$, potem je tudi $\sigma \circ \sigma$ element $\mathcal{N}$ \label{itm1:3}
\item množica $\mathcal{N}$ je polgrupa za kompozitum permutacij, ni pa grupa \label{itm1:4}
\item permutacija $\sigma$ je element množice $\mathcal{O}$ natanko tedaj ko tako $\sigma$ kot tudi $\sigma^{-1}$ ohranjata konvergenco.
\end{enumerate}
\end{trditev}

\begin{proof}
\begin{enumerate}
\item Naj bo $\sigma$ permutacija iz množice $\mathcal{N}$. Ker $\sigma$ ohranja konvergenco, obstaja neka pogojno divergentna vrsta $\sum_{n=1}^{\infty}a_n$, da je $\sum_{n=1}^{\infty}\sigma(a_n)$ konvergentna. Delujmo sedaj na vrsto  $\sum_{n=1}^{\infty}\sigma(a_n)$ s permutacijo $\sigma^{-1}$. Dobimo vrsto $\sum_{n=1}^{\infty}\sigma^{-1}(\sigma(a_n))=\sum_{n=1}^{\infty}a_n$, ki je divergentna. Permutacija $\sigma^{-1}$ torej ne ohranja konvergence in zato ni element množice $\mathcal{O}$.

\item Naj bo $\sigma \in \mathcal{N}$ in $\beta \in \mathcal{O}$. Tako $\sigma$ kot tudi $\beta$ ohranjata konvergenco, od koder sledi, da tudi njun kompozitum $\sigma \circ \beta$ ohranja konvergenco. Ker je $\sigma$ element množice $\mathcal{N}$, obstaja neka pogojno divergentna vrsta $\sum_{n=1}^{\infty}a_n$, da $\sum_{n=1}^{\infty}\sigma(a_n)$ konvergira. Ker permutacija $\beta$ ohranja konvergenco, je tudi $\sum_{n=1}^{\infty}\beta(\sigma(a_n))=\sum_{n=1}^{\infty}(\beta \circ \sigma)(a_n)$ konvergentna. Torej obstaja pogojno divergentna vrsta, ki jo permutacija $\beta \circ \sigma$ spremeni v konvergentno. Sledi, da je $\beta \circ \sigma \in \mathcal{N}$.

\item Imejmo permutacijo $\sigma \in \mathcal{N}$. Ker $\sigma$ ohranja konvergenco, jo ohranja tudi $\sigma \circ \sigma$. Ker je $\sigma \in \mathcal{N}$, pa obstaja tudi pogojno divergentna vrsta $\sum_{n=1}^{\infty}a_n$, da vrsta $\sum_{n=1}^{\infty}\sigma(a_n)$ konvergira. To isto vrsto $\sum_{n=1}^{\infty}a_n$ tudi $\sigma \circ \sigma$ preslika v konvergentno, saj $\sigma$ ohranja konvergenco. Sledi, da je $\sigma \circ \sigma \in \mathcal{N}$.

\item Najprej dokažimo, da je množica $\mathcal{N}$ polgrupa za kompozitum. Dokazati moramo zaprtost operacije in asociativnost. Asociativnost kompozituma je očitna, zaprtost operacije pa sledi iz točke \ref{itm1:3} v trditvi \ref{trd:o in n}. Pokažimo še, da $\mathcal{N}$ ni grupa za kompozitum. Opazimo, da $\mathcal{N}$ ne vsebuje enote, torej identitete. Identiteta namreč nobene pogojno divergentne vrste ne preslika v pogojno konvergentno. Poleg tega po točki \ref{itm1:1} v trditvi \ref{trd:o in n} množica $\mathcal{N}$ ne vsebuje inverza nobenega svojega elementa, saj za elemente množice $\mathcal{N}$ velja, da njihovi inverzi ne ohranjajo konvergence.
%dokaz za zadnjo točko
\end{enumerate}
\end{proof}

Posledica prejšnje trditve nam pravzaprav podaja alternativno definicijo \\$\lambda$-permutacij.

\begin{posledica}
Permutacija naravnih števil $\sigma$ je $\lambda$-permutacija natanko tedaj ko ohranja konvergenco, njen inverz pa ne.
\end{posledica}
%ali posledica rabi dokaz?

\section{Množica vseh $\lambda$-permutacij}

\subsection{Moč množice $\lambda$ permutacij}

Pokazali smo že, da množica $\lambda$-permutacij ni prazna.
O njeni moči govori naslednji izrek.

\begin{izrek}
$card(\mathcal{N})=card(\mathcal{O})=2^{\aleph_0}$
\end{izrek}

\begin{proof}
Naj bo množica $X$ poljubna podmnožica množice naravnih števil $\N$. Naj bo $\tau_X$ permutacija, ki transponira števili $2m+1$ in $2m$, če je $m\in X$, ostala števila pa preslika sama vase. Vidimo lahko, da je zaporedje števil blokov $\{b_n\}_{n=1}^{\infty}$ omejeno. Še več, število blokov $b_n$ je za vsak $n$ enako ali $1$ ali $2$. Oglejmo si, zakaj. 

Oglejmo si dve različni permutaciji $\tau_X$ in $\tau_Y$. Prva naj bo videti tako:
$$\tau_X =
\left(
\begin{array}{cccccccc}
1 & 2 & \cdots & 2m-2 & 2m-1 & 2m & 2m+1 & \cdots \\  
1 & 2 & \cdots & 2m-2 & 2m & 2m-1 & 2m+1 & \cdots
  \end{array}
\right)$$
Število $m$ je najmanjše naravno število v množici $\tau_X$, število $m+1$ pa ni element te množice. Potem velja naslednje:
$$\{ \sigma (1), \sigma (2), \ldots \sigma (k) \} = [1, k]_{\Z}$$
za vsak $k\in \N$, ki ni oblike $k=2m-1$ za $m\in X$. Za $k$ oblike $k=2m-1$ pa velja:
$$\{ \sigma (1), \sigma (2), \ldots \sigma (k) \} =\{ \sigma (1), \sigma (2), \ldots \sigma (2m-1) \}= [1, 2m-2]_{\Z} \cup [2m, 2m-2]_{\Z}$$
\end{proof}

\subsection{Omejenost množice $\lambda$ permutacij}

Ali ima množica vseh $\lambda$-permutacij zgornjo mejo, tj.\ ali obstaja permutacija, ki ustvari največ konvergentnih vrst?

Najprej definirajmo relacijo delne urejenosti na množici $ \mathbb{N}$. Naj bosta $\sigma _1$ in $\sigma _2$ $\lambda$-permutaciji. Rečemo, da je $\sigma_1 < \sigma_2$, če za vsako vrsto $\sum^{\infty}_{n=1}a_n$, za katero $\sum^{\infty}_{n=1}a_{\sigma_2(n)}$ konvergira, konvergira tudi $\sum^{\infty}_{n=1}a_{\sigma_1(n)}$. 

Pokazali smo že (trditev \ref{trd:o in n}), da če je $\sigma$ $\lambda$-permutacija, potem je tudi $\sigma \circ \sigma$  $\lambda$-permutacija. Če vrsta $\sum^{\infty}_{n=1}a_{\sigma(n)}$ konvergira, torej konvergira tudi $\sum^{\infty}_{n=1}a_{\sigma \circ \sigma(n)}$. Velja torej $\sigma < \sigma \circ \sigma$, od tod pa induktivno sledi: $\sigma < \sigma \circ \sigma < \sigma \circ \sigma \circ \sigma < \cdots$. Za vsako $\lambda$-permutacijo lahko najdemo novo $\lambda$-permutacijo, ki bo ">večja"< od nje. Torej množica vseh $\lambda$-permutacij nima zgornje meje. 


\section{Pogojno divergentne vrste in $\lambda$-permutacije}

V tem razdelku bomo poskušali odgovoriti še na vprašanje, ali za vsako pogojno divergentno vrsto obstaja $\lambda$-permutacija, taka, da vrsta s spremenjenim vrstnim redom členov konvergira. V ta namen za vsako pogojno konvergento oziroma pogojno divergentno vrsto definirajmo množico $$S=\left \{L\in \mathbb{R}:\textrm{obstaja }\lambda \textrm{-permutacija } \sigma, \sum^{\infty}_{n=1}a_{\sigma (n)}=L\right \}.$$ Na vprašanje bomo odgovorili s pomočjo protiprimera.

Oglejmo si vrsto:
$$\sum^{\infty}_{n=1}a_n = 1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}-1+\frac{1}{5}+\frac{1}{6}+ \dots +\frac{1}{33}-\frac{1}{2}+\dots$$
Vrsta je pogojno divergentna. Pokažemo pa lahko, da je z nobeno $\lambda$-permutacijo ne moremo spremeniti v konvergentno. Za to vrsto je torej $S=\emptyset$. 

Izrek \ref{izr:riemann} pravi, da je v vsaki pogojno konvergentni vrsti mogoče spremeniti vrstni red členov tako, da dobljena vrsta divergira ali pa konvergira proti kateremukoli realnemu številu. Zgolj z uporabo $\lambda$-permutacij lahko to dosežemo pri naslednji vrsti:
$$\sum^{\infty}_{n=1}a_n= 1-1-\frac{1}{2}-\frac{1}{3}-\frac{1}{4}+\frac{1}{2}+\frac{1}{3}+\dots +\frac{1}{33}-\frac{1}{5}-\dots $$
Za vsako število $L\in \mathbb{R}$ obstaja $\lambda$-permutacija, ki iz zgornje (divergentne) vrste ustvari konvergentno vrsto z vsoto $L$. Torej je $S=\mathbb{R}$.

\section{Še dva primera...}

Za konec si oglejmo še dva primera $\lambda$-permutacij.

\begin{primer}
Razdelimo naravna števila v bloke na naslednji način:\\

$1 \quad 2\: 3\: 4\: 5 \quad 6\: 7\: 8\: 9\: 10\: 11 \quad 12\: 13\: 14\: 15\: 16\: 17\: 18\: 19\: \ldots $\\

Sedaj vsak blok razdelimo na dva enako velika boka in ju prepletemo med sabo. Blok $6\: 7\: 8\: 9\: 10\: 11$ na primer razdelimo na bloka $6\: 7\: 8$ in $9\: 10\: 11$ ter ju prepletemo tako, da na prvo mesto postavimo prvo število prvega bloka, na drugo mesto prvo število drugega bloka, na tretje mesto drugo število prvega bloka in tako dalje. Ko opisani postopek izvedemo na vseh blokih v zaporedju, dobimo:\\

$1 \quad 2\: 4\: 3\: 5 \quad 6\: 9\: 7\: 10\: 8\: 11 \quad 12\: 16\: 13\: 17\: 14\: 18\: 15\: 19\: \ldots $
\end{primer}

\begin{primer}
Zopet začnemo z zaporedjem naravnih števil, razdeljenim v bloke:\\

$1 \quad 2\: 3\: 4\quad 5\: 6\: 7\: 8\: 9\: 10 \quad 11\: 12\: 13\: 14\: 15\: 16\:17\: 18\: 19\: \ldots $\\

Drugi blok preoblikujemo tako, da prepletemo med sabo bloka $2\: 3$ in $4$. V tretjem bloku prepletemo bloka $5\: 6\: 7\: 8$ in $9\: 10$. V četrtem bloku prepletemo $11\: 12\: 13\: 14\: 15\: 16$ in $17\: 18\: 19$. Tako dobimo:\\

$1 \quad 2\: 4\: 3\quad 5\: 6\: 9\: 7\: 8\: 10 \quad 11\: 12\: 17\: 13\: 14\: 18\: 15\: 16\: 19\: \ldots $

\end{primer}

\section{Zaključek}



\begin{thebibliography}{99}

\bibitem{vir1}
S.~G.~Krantz in J. D. McNeal, \textit{Creating more convergent series}, Amer.~Math.~Monthly \textbf{111} (2004) 32-38.
\bibitem{vir2}
D.~Velleman, \textit{A note on $\lambda$-permutations}, Amer.~Math.~Monthly \textbf{113} (2006) 173-178.
\bibitem{vir3}
P.~Schaefer, \textit{Sum-preserving rearrangements of infinite series}, Amer.~Math.~Monthly \textbf{88} (1981), 33-40.
\bibitem{vir4}
J.~Globevnik in M.~Brojan, \textit{Analiza I},  DMFA - založništvo, Ljubljana, 2010.

\end{thebibliography}

\end{document}

